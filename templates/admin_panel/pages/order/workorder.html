{% extends 'admin_panel/base.html' %}
{% load static %}

{% block content %}
<!-- Page Content -->
<div class="page-content">
    <div class="container-fluid">
        <!-- Page-Title -->
        <div class="row">
            <div class="col-sm-12">
                <div class="page-title-box">
                    <div class="row">
                        <div class="col">
                            <h4 class="page-title">Create Work Order</h4>
                        </div><!-- end col -->
                    </div><!-- end row -->
                </div><!-- end page-title-box -->
            </div><!-- end col -->
        </div><!-- end row -->
        <!-- end page title end breadcrumb -->
        <form action="{% url 'work_order:workorder' %}" method="POST" enctype="multipart/form-data" class="ajax redirect">
            <div class="row">
                <div class="col-12">
                    {% csrf_token %}
                    <div class="card">
                        <div class="card-body bootstrap-select-1">
                            <div class="row">
                                <div class="col-md-6">
                                    <h5>Work Order Details</h5>
                                    <div class="form-group">
                                        <label for="order_no">{{ form.order_no.label }}:</label>
                                        {{ form.order_no }}
                                    </div>
                                    <div class="form-group">
                                        <label for="category">{{ form.category.label }}:</label>
                                        {{ form.category }}
                                    </div>
                                    <div class="form-group">
                                        <label for="sub_category">{{ form.sub_category.label }}:</label>
                                        {{ form.sub_category }}
                                    </div>
                                    <div class="form-group">
                                        <label for="model_no">{{ form.model_no.label }}:</label>
                                        {{ form.model_no }}
                                    </div>
                                    <div class="form-group">
                                        <label for="material">{{ form.material.label }}:</label>
                                        {{ form.material }}
                                    </div>
                                    <div class="form-group">
                                        <label for="sub_material">{{ form.sub_material.label }}:</label>
                                        {{ form.sub_material }}
                                    </div>
                                    <div class="form-group">
                                        <label for="material_type">{{ form.material_type.label }}:</label>
                                        {{ form.material_type }}
                                    </div>
                                    <div class="form-group">
                                        <label for="quantity">{{ form.quantity.label }}:</label>
                                        {{ form.quantity }}
                                    </div>
                                    <div class="form-group">
                                        <label for="delivery_date">{{ form.delivery_date.label }}:</label>
                                        {{ form.delivery_date }}
                                    </div>
                                    <div class="form-group">
                                        <label for="remark">{{ form.remark.label }}:</label>
                                        {{ form.remark }}
                                    </div>
                                </div><!-- end col -->

                                <div class="col-md-6">
                                    <h5>Customer Details</h5>
                                    <div class="form-group">
                                        <label for="name">{{ customer_form.name.label }}:</label>
                                        {{ customer_form.name }}
                                    </div>
                                    <div class="form-group">
                                        <label for="mobile_number">{{ customer_form.mobile_number.label }}:</label>
                                        {{ customer_form.mobile_number }}
                                    </div>
                                    <div class="form-group">
                                        <label for="address">{{ customer_form.address.label }}:</label>
                                        {{ customer_form.address }}
                                    </div>
                                    <div class="form-group">
                                        <label for="email">{{ customer_form.email.label }}:</label>
                                        {{ customer_form.email }}
                                    </div>
                                    <div class="form-group">
                                        <label for="gst_no">{{ customer_form.gst_no.label }}:</label>
                                        {{ customer_form.gst_no }}
                                    </div>
                                </div><!-- end col -->
                            </div><!-- end row -->

                            <h5>Work Order Images</h5>
                            <div class="row">
                                {{ images_formset.management_form }}
                                {% for form in images_formset %}
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>{{ form.image.label }}</label>
                                            {{ form.image }}
                                        </div>
                                    </div>
                                {% endfor %}
                            </div><!-- end row -->

                            <h5>Work Assignments</h5>
                            <div class="row">
                                {{ assign_formset.management_form }}
                                {% for form in assign_formset %}
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>{{ form.choose_qty.label }}</label>
                                            {{ form.choose_qty }}
                                        </div>
                                        <div class="form-group">
                                            <label>{{ form.qty.label }}</label>
                                            {{ form.qty }}
                                        </div>
                                        <div class="form-group">
                                            <label>{{ form.rate.label }}</label>
                                            {{ form.rate }}
                                        </div>
                                    </div>
                                {% endfor %}
                            </div><!-- end row -->
                        </div><!-- end card-body -->
                    </div><!-- end card -->

                    <button type="submit" id="submit" class="btn btn-soft-primary btn-sm waves-effect waves-light">Submit</button>
                    <button type="button" onclick="window.history.back()" class="btn btn-soft-danger btn-sm">Cancel</button>
                </div><!-- end col -->
            </div><!-- end row -->
        </form><!-- end form -->
    </div><!-- container -->
</div><!-- end page content -->
{% endblock content %}

{% block static %}
{% load static %}
<!-- Additional styles if necessary -->
{{ form.media }}
{{ images_formset.media }}
{{ assign_formset.media }}
<style>
    .form-group {
        margin-bottom: 10px;
    }
    .form-control {
        height: calc(2.8em + .75rem + 2px);
    }
</style>
{% endblock %}
